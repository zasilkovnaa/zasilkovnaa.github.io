(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1248:function(t,e,n){"use strict";n(963)},1249:function(t,e,n){"use strict";n(964)},1483:function(t,e,n){"use strict";n.r(e);var o=n(6),r=n(63),l=n(616),c=n(146),d=n(615),m=(n(13),n(16),n(29),n(20),n(39)),v=n(35),f=n(837),h=n(838),y=n(710),x=n(147),_=n(661),k=n(64),w=n(840),$={zboxInfo:{city:"",zip:"",street:"",country:"cz",note:"",wheelchairAccessible:!0,openingHours:"nonstop"},contacts:{companyName:"",ic:"",fullname:"",phone:"",email:""},photo:"",terms:!1},C={components:{AtomButton:v.a,AtomCheckboxInput:f.a,AtomFileInput:h.a,AtomSelect:y.a,AtomTextInput:x.a,AtomLoadSpinner:_.a},props:{registration:{type:String,default:null},countryOptions:{type:Array,required:!0},countryValue:{type:Object,required:!0}},data(){return{zboxInfo:[{id:"zboxInfo.street",text:"street",requiredField:"*",value:"",name:"street"},{id:"zboxInfo.city",text:"city",requiredField:"*",value:"",name:"city"},{id:"zboxInfo.zip",text:"postcode",requiredField:"*",inputmode:"numeric",value:"",name:"zip"},{id:"zboxInfo.country",text:"country",requiredField:null,type:"select",name:"country",value:this.countryValue,options:this.countryOptions},{id:"zboxInfo.wheelchairAccessible",text:"wheelchairAccess",requiredField:null,type:"select",name:"wheelchairAccessible",value:{value:this.$t("zboxRegistration.No"),text:this.$t("zboxRegistration.No")},options:[{value:this.$t("zboxRegistration.Yes"),text:this.$t("zboxRegistration.Yes")},{value:this.$t("zboxRegistration.No"),text:this.$t("zboxRegistration.No")}]},{id:"zboxInfo.openingHours",text:"service",requiredField:null,type:"select",name:"openingHours",value:{value:this.$t("zboxRegistration.nonstop"),text:this.$t("zboxRegistration.nonstop")},options:[{value:this.$t("zboxRegistration.nonstop"),text:this.$t("zboxRegistration.nonstop")},{value:this.$t("zboxRegistration.timeLimit"),text:this.$t("zboxRegistration.timeLimit")}]},{id:"zboxInfo.note",text:"notes",value:"",requiredField:null,name:"notes"}],contacts:[{id:"contacts.companyName",text:"companyName",requiredField:null,value:"",name:"company"},{id:"contacts.fullname",text:"nameSurname",requiredField:"*",value:"",name:"fullname"},{id:"contacts.ic",text:"CIN",requiredField:null,inputmode:"numeric",value:"",name:"cin"},{id:"contacts.phone",text:"phone",requiredField:"*",inputmode:"tel",type:"tel",value:"",name:"phone"},{id:"contacts.email",text:"email",requiredField:"*",inputmode:"email",type:"email",value:"",name:"email"}],photo:"",terms:!1,isFailed:null,isShownMessage:null,isServerError:null,hasErrors:!1,submitDisabled:!1}},computed:{translation(){return this.$root.$t("zboxRegistration.approval")}},mounted(){Object(m.d)(this.$i18n.locale)},methods:{validateForm(t){this.hasErrors=!1;var e=[];for(var input of this[t]){input.error=void 0,input.requiredField&&""===input.value&&(input.error="Required field",this.hasErrors=!0),e.push(input);var n=input.value;switch(input.id){case"zboxInfo.openingHours":n={[this.$t("zboxRegistration.nonstop")]:"nonstop",[this.$t("zboxRegistration.timeLimit")]:"timeLimit"}[input.value.value];break;case"zboxInfo.wheelchairAccessible":n={[this.$t("zboxRegistration.Yes")]:!0,[this.$t("zboxRegistration.No")]:!1}[input.value.value];break;case"zboxInfo.country":n={[this.$t("global.countries.czechia")]:"cz",[this.$t("global.countries.czechRepublic")]:"cz",[this.$t("global.countries.slovakia")]:"sk",[this.$t("global.countries.hungary")]:"hu"}[input.value.value]}var[o,r]=input.id.split(".");$[o][r]=n}return this[t]=e,this.hasErrors},submitForm(){var t=this;return Object(o.a)((function*(){var e=yield t.$refs.observer.validate();if(Object(k.h)({context:t,type:"zbox",method:"form"}),t.validateForm("zboxInfo"),t.validateForm("contacts"),e&&!t.hasErrors){t.submitDisabled=!0,$.contacts.companyName||($.contacts.companyName=t.$t("global.forms.defaultCompanyName"));var n=yield fetch(Object(w.b)(),{method:"POST",body:JSON.stringify($)});n.ok?t.$router.push(t.localePath(t.$pages.zboxRegistrationThankYou)):(n.status>=500&&(t.isServerError=!0),t.isShownMessage=!0,t.isFailed=!0),t.scrollToMessage(),t.$refs.observer.reset(),t.submitDisabled=!1}else t.$refs.form.scrollIntoView(!0)}))()},updateZboxInfo(t,e){var n=this.zboxInfo.find((i=>i.id===t));n&&(n.value=e)},updateContacts(t,e){var n=this.contacts.find((i=>i.id===t));n&&(n.value=e)},setPhoto(t){$.photo=btoa(t.target.result)},setTerms(){this.terms=!this.terms,$.terms=this.terms},validationRules(t,e){var n={};return e&&(n="email"===t?{required:!0,email:!0}:"phone"===t?{required:!0,phoneNumber:!0}:"zip"===t?{required:!0,zipCode:!0}:"fullname"===t?{required:!0,alpha_spaces:!0}:{required:!0}),n},scrollToMessage(){var form=this.$refs.form;form&&form.scrollIntoView({block:"end"})}}},z=(n(1248),n(5)),O=Object(z.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("validation-observer",{ref:"observer",staticClass:"form",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validate;return[n("form",{ref:"form",staticClass:"mb-64",on:{submit:function(e){e.preventDefault(),o().then(t.submitForm)}}},[n("p",{staticClass:"text-title-red"},[t._v(t._s(t.$t("zboxRegistration.registration")))]),t._v(" "),n("div",{staticClass:"container mb-64"},[n("h4",{staticClass:"h4 mb-4"},[t._v(t._s(t.$t("zboxRegistration.placeInformation")))]),t._v(" "),n("p",{staticClass:"text-body-extra-small-grey mb-48"},[t._v("\n        * "+t._s(t.$t("zboxRegistration.requiredFields"))+"\n      ")]),t._v(" "),n("div",{staticClass:"row align-items-end"},t._l(t.zboxInfo,(function(input){return n("div",{key:input.id,staticClass:"text-body-extra-small-grey col-sm-4 gap-8",attrs:{id:input.id}},[n("label",{staticClass:"mb-16"},[t._v("\n            "+t._s(t.$t("zboxRegistration."+input.text))+t._s(input.requiredField)+"\n          ")]),t._v(" "),"select"===input.type?n("atom-select",{attrs:{options:input.options,value:input.value},on:{input:function(e){t.updateZboxInfo(input.id,e)}}}):n("validation-provider",{attrs:{rules:t.validationRules(input.name,input.requiredField)},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,r=e.classes;return[n("atom-text-input",{staticClass:"mb-24",class:r,attrs:{type:input.type,inputmode:input.inputmode,error:input.error,value:input.value},on:{input:function(e){t.updateZboxInfo(input.id,e)}},model:{value:input.value,callback:function(e){t.$set(input,"value",e)},expression:"input.value"}},[n("span",{staticClass:"error-text"},[t._v(t._s(o[0]))])])]}}],null,!0)})],1)})),0)]),t._v(" "),n("div",{staticClass:"mb-64"},[n("h4",{staticClass:"h4 mb-4"},[t._v("\n        "+t._s(t.$t("zboxRegistration.contactInformation"))+"\n      ")]),t._v(" "),n("p",{staticClass:"text-body-extra-small-grey mb-48"},[t._v("\n        * "+t._s(t.$t("zboxRegistration.requiredFields"))+"\n      ")]),t._v(" "),n("div",{staticClass:"row"},t._l(t.contacts,(function(input){return n("div",{key:input.id,staticClass:"text-body-extra-small-grey col-sm-4",attrs:{id:input.id}},[n("label",{staticClass:"mb-16"},[t._v("\n            "+t._s(t.$t("zboxRegistration."+input.text))+t._s(input.requiredField)+"\n          ")]),t._v(" "),n("validation-provider",{attrs:{rules:t.validationRules(input.name,input.requiredField)},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,r=e.classes;return[n("atom-text-input",{staticClass:"mb-24",class:r,attrs:{type:input.type,inputmode:input.inputmode,error:input.error,value:input.value,name:input.name},on:{input:function(e){t.updateContacts(input.id,e)}},model:{value:input.value,callback:function(e){t.$set(input,"value",e)},expression:"input.value"}},[n("span",{staticClass:"error-text"},[t._v(t._s(o[0]))])])]}}],null,!0)})],1)})),0)]),t._v(" "),n("div",{staticClass:"mb-64"},[n("h4",{staticClass:"h4 mb-4"},[t._v(t._s(t.$t("zboxRegistration.photo")))]),t._v(" "),n("p",{staticClass:"text-body-extra-small-grey mb-48"},[t._v("\n        "+t._s(t.$t("zboxRegistration.uploadPhotos"))+"\n      ")]),t._v(" "),n("atom-file-input",{staticClass:"mb-16",attrs:{"input-id":"file-input",onload:t.setPhoto}})],1),t._v(" "),n("div",[n("div",{staticClass:"text-body-small-grey mb-32",domProps:{innerHTML:t._s(t.registration)}}),t._v(" "),n("atom-checkbox-input",{staticClass:"mb-48",attrs:{"input-id":"cb-1",label:t.translation},on:{change:t.setTerms},model:{value:t.terms,callback:function(e){t.terms=e},expression:"terms"}}),t._v(" "),n("atom-button",{attrs:{disabled:t.submitDisabled,large:""},on:{click:function(e){return t.submitForm()}}},[t.submitDisabled?n("atom-load-spinner",{attrs:{inner:""}}):t._e(),t._v("\n        "+t._s(t.$t("zboxRegistration.register")))],1)],1)]),t._v(" "),n("div",{staticClass:"message-container"},[t.isShownMessage?[t.isFailed?n("p",{staticClass:"submission-msg error-msg"},[t.isServerError?[t._v(t._s(t.$t("global.forms.serverError")))]:[t._v("\n          "+t._s(t.$t("global.forms.fail"))+"\n        ")]],2):t._e()]:t._e()],2)]}}])})}),[],!1,null,"0fe87c1a",null).exports,F=n(62),R=n(617),I={components:{AtomHeadline:c.a,BlokBlocks:d.a,FormContent:O,AtomImage:F.a},asyncData:t=>Object(o.a)((function*(){return{story:yield Object(r.g)(t)}}))(),head(){return Object(R.c)(this.story.content)},mounted(){this.$storybridge.on(this.story.id,Object(l.b)(this.story,[l.a]))}},S=(n(1249),Object(z.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"editable",rawName:"v-editable",value:t.story.content,expression:"story.content"}],staticClass:"container pt-120 pb-120"},[n("div",{staticClass:"header-container d-flex justify-content-between flex-wrap"},[n("blok-blocks",{attrs:{content:t.story.content.teaser},scopedSlots:t._u([{key:"default",fn:function(t){var data=t.data;return[n("atom-headline",{attrs:{line1:data.line1,line2:data.line2,description:data.description,width:36}})]}}])}),t._v(" "),n("div",{staticClass:"photo-container mt-48 mt-lg-32 mb-64 mb-lg-32"},[n("atom-image",{staticClass:"photo img-fluid",attrs:{loading:"eager",src:t.story.content.image.filename,alt:t.story.content.image.alt}})],1)],1),t._v(" "),n("form-content",{attrs:{registration:t.$renderStoryblokRichtext(t.story.content.personalData),"country-value":{value:t.$t("global.countries.czechia"),text:t.$t("global.countries.czechia")},"country-options":[{value:t.$t("global.countries.czechia"),text:t.$t("global.countries.czechia")},{value:t.$t("global.countries.slovakia"),text:t.$t("global.countries.slovakia")}]}})],1)}),[],!1,null,"14fef7b3",null));e.default=S.exports},615:function(t,e,n){"use strict";var o={props:{content:{type:Array,default:()=>[]}},computed:{blocks(){return this.content.length>0&&!this.content[0]._uid?this.content.map((t=>t.content)):this.content}}},r=n(5),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.blocks,(function(data,e){return n("div",{directives:[{name:"editable",rawName:"v-editable",value:data,expression:"data"}],key:data._uid},[t._t("default",null,null,{data:data,index:e})],2)})),0)}),[],!1,null,null,null);e.a=component.exports},616:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return l}));n(13),n(16);function o(t){"input"===t.action||t.slugChanged||window.location.reload()}function r(t,e){"input"===t.action&&t.story.id===e.id&&(e.content=t.story.content)}function l(t,e){return function(n){for(var r of[o,...e])r(n,t)}}},617:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return l}));n(74),n(29);var o=t=>{var title=t.title,e=t.excerpt;return t.seo&&(title=t.seo.meta_title,e=t.seo.meta_description),{title:title,meta:[{hid:"description",name:"description",content:e}]}},r=t=>{var{meta_title:title,meta_description:e,meta_image:image}=t;return{title:title,meta:[{hid:"description",name:"description",content:e},{hid:"twitter:title",name:"twitter:title",content:title},{hid:"twitter:description",name:"twitter:description",content:e},{hid:"twitter:image",name:"twitter:image",content:image?image.filename:""},{hid:"og:title",property:"og:title",content:title},{hid:"og:description",property:"og:description",content:e},{hid:"og:image",property:"og:image",content:image?image.filename:""},{hid:"og:image:secure_url",property:"og:image:secure_url",content:image?image.filename:""}]}},l=(t,e)=>{var{meta_title:title,meta_description:n,meta_image:image}=t;return{title:c(e,title),meta:[{hid:"description",name:"description",content:n},{hid:"twitter:title",name:"twitter:title",content:c(e,title)},{hid:"twitter:description",name:"twitter:description",content:n},{hid:"twitter:image",name:"twitter:image",content:image.filename},{hid:"og:title",property:"og:title",content:c(e,title)},{hid:"og:description",property:"og:description",content:n},{hid:"og:image",property:"og:image",content:image.filename}]}},c=(t,title)=>"".concat(t," | ").concat(title.split("|").pop().trim())},650:function(t,e,n){},661:function(t,e,n){"use strict";var o={props:{inner:{type:Boolean,default:!1},outer:{type:Boolean,default:!1},onPage:{type:Boolean,default:!1}},data(){return{variants:{"loader-inner":this.inner,"loader-outer":this.outer,"loader-on-page":this.onPage}}}},r=(n(667),n(5)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.variants})}),[],!1,null,"888229d8",null);e.a=component.exports},667:function(t,e,n){"use strict";n(650)},671:function(t,e,n){},704:function(t,e,n){"use strict";n(671)},710:function(t,e,n){"use strict";var o=n(45),r=n.n(o),l={components:{AtomIcon:n(34).a},directives:{clickOutside:r.a.directive},props:{options:{type:Array,required:!0},value:{type:Object,default:()=>null},placeholder:{type:String,default:null},disabled:{type:Boolean,default:!1}},data(){return{selected:this.value?this.value:this.placeholder?null:this.options.length>0?this.options[0]:null,isOpened:!1}},methods:{toggle(){this.disabled||(this.isOpened=!this.isOpened)},selectOption(option){this.selected=option,this.isOpened=!1,this.$emit("input",option)},close(){this.isOpened=!1},focusPrevious(){var t=this.options.findIndex((option=>option===this.selected));t<this.options.length+1&&t&&(this.selected=this.options[t-1])},focusNext(){var t=this.options.findIndex((option=>option===this.selected));t<this.options.length-1&&(this.selected=this.options[t+1])}}},c=(n(704),n(5)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.close,expression:"close"}],staticClass:"wrapper mb-24",class:{"is-opened":t.isOpened},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.close(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:e.shiftKey?t.close(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.close(e)}]}},[n("div",{staticClass:"input",class:{"is-opened":t.isOpened,disabled:t.disabled},attrs:{tabindex:"0"},on:{click:t.toggle,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.toggle(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.toggle(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.focusNext(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.focusPrevious(e))}]}},[n("span",{staticClass:"selected",class:{placeholder:t.placeholder&&!t.selected}},[t._v(t._s(t.selected?t.selected.text:t.placeholder))]),t._v(" "),t.disabled?t._e():n("atom-icon",{staticClass:"arrow",class:{dropped:t.isOpened},attrs:{name:"arrow-down"}})],1),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpened,expression:"isOpened"}],ref:"dropdown"},t._l(t.options,(function(option,e){return n("li",{key:e,class:{active:t.selected===option},attrs:{tabindex:"0"},on:{click:function(e){return t.selectOption(option)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.selectOption(option))}}},[t._v("\n      "+t._s(option.text)+"\n    ")])})),0),t._v(" "),t._t("default")],2)}),[],!1,null,"0108d366",null);e.a=component.exports},757:function(t,e,n){},758:function(t,e,n){},800:function(t,e,n){"use strict";n(757)},801:function(t,e,n){"use strict";n(758)},837:function(t,e,n){"use strict";var o={props:{inputId:{type:String,required:!0},label:{type:String,default:null}}},r=(n(800),n(5)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper d-flex"},[n("label",{attrs:{for:t.inputId}},[n("input",{staticClass:"visually-hidden",attrs:{id:t.inputId,type:"checkbox"},on:{change:function(e){return t.$emit("change",e.target.value)}}}),t._v(" "),n("span",{staticClass:"checkmark"}),t._v(" "),n("div",{staticClass:"text"},[t._v(t._s(t.label))])])])}),[],!1,null,"00691c36",null);e.a=component.exports},838:function(t,e,n){"use strict";var o={props:{inputId:{type:String,required:!0},onload:{type:Function,default:()=>{}}},data(){return{uploadedFile:this.$t("global.forms.notChosen")}},methods:{onFileChange(t){var e=t.target.files[0];this.uploadedFile=e.name;var n=new FileReader;n.onload=this.onload,n.readAsBinaryString(e)}}},r=(n(801),n(5)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"file-input"},[n("input",{staticClass:"visually-hidden",attrs:{id:t.inputId,type:"file"},on:{change:t.onFileChange}}),t._v(" "),n("label",{staticClass:"btn text-nowrap btn-outline-primary",attrs:{for:t.inputId}},[t._v("\n    "+t._s(t.$t("global.forms.chooseFile"))+"\n  ")]),t._v(" "),n("span",{staticClass:"color-grey-text"},[t._v(t._s(t.uploadedFile))])])}),[],!1,null,"285bb61e",null);e.a=component.exports},840:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return l}));n(40),n(13),n(16),n(84);var o="https://web.api.packeta.com";function r(){return new URL("/webapi/v1/branch-wannabe/create",o).toString()}function l(){return new URL("/webapi/v1/zbox-wannabe/create",o).toString()}},963:function(t,e,n){},964:function(t,e,n){}}]);