"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3483],{78635:function(e,t,n){n.d(t,{E:function(){return c}});var u=n(26042),r=n(69396),s=n(80263),o=n(83433),i=n(66447),a=n(37869),c=function(){var e=(0,s.useRouter)(),t=(0,a.useCallback)(function(t){var n=t.url,s=t.state,a=t.shallow,c=t.type,l=(0,o.JR)(n),d=i.L.stringify({params:void 0===s?{}:s},l.search);e[void 0===c?"push":c]((0,r.Z)((0,u.Z)({},l),{search:d}),l,{shallow:void 0===a||a})},[e]),n=(0,a.useCallback)(function(e){t((0,r.Z)((0,u.Z)({},e),{type:"push"}))},[t]),c=(0,a.useCallback)(function(e){t((0,r.Z)((0,u.Z)({},e),{type:"replace"}))},[t]);return{push:n,replace:c}}},19369:function(e,t,n){n.d(t,{E:function(){return o}});var u=n(81346);n(37869);var r=n(58935),s=n(83433);function o(e){var t=e.src,n=e.alt,o=e.enableLazyLoad,i=e.className,a=e.title,c=e.cdnWidth,l=e.cdnHeight,d=e.width,g=e.height,f=e.onLoad,h=e.onClick,v=e.enableWebp;return(0,u.jsx)("img",{onClick:h,loading:!(0,s.BD)()&&(void 0===o||o)?"lazy":void 0,className:i,src:(0,r.g)(void 0===t?"/img/image-placeholder.png":t,c,l,void 0!==v&&v),alt:void 0===n?"":n,title:a,width:d,height:g,onLoad:f})}t.Z=o},63483:function(e,t,n){n.r(t),n.d(t,{LayoutHeader:function(){return X},getHeaderHeight:function(){return W}});var u,r=n(14924),s=n(10253),o=n(81346),i=n(37869),a=n(71673),c=n.n(a),l=n(6336),d=n.n(l),g=n(57155),f=n(18279),h=n.n(f),v=n(54318),p=n(80263),m=n(93986),y=n(72951),b=n(70647),x=n(7981),C=n(56288),k=n(13096),j=n(29595),S=n(31365),w=n(29527),N=n(58699),E=n(12057),L=n(17739),H=n(62393),z=n(78635),T=n(26031),I=n(29331),q=h().CancelToken,R=[m.s.Enter,m.s.Escape,m.s.UpArrow,m.s.DownArrow],Z=function(e){var t=e.query,n=e.onSuggestVisibilityChange,r=function(e){P(!0),u&&(u.cancel(),u=void 0),ep(e,u=q.source()).then(function(t){if(u=void 0,U.current===e){var n=t.results||[];G.current={categoriesCount:t.categoriesCount||0,productsCount:t.productsCount||0,queriesCount:t.queriesCount||0},g(n.length>0),M(n),P(!1)}}).catch(function(t){h().isCancel(t)||(u=void 0,U.current===e&&eg())})},s=(0,i.useState)(t||""),a=s[0],c=s[1],l=(0,i.useState)(!1),d=l[0],g=l[1],f=(0,i.useState)([]),Z=f[0],M=f[1],D=(0,i.useState)(-1),O=D[0],_=D[1],B=(0,i.useState)(!1),V=B[0],P=B[1],U=(0,i.useRef)(""),A=(0,i.useRef)(""),Q=(0,i.useRef)(null),G=(0,i.useRef)({categoriesCount:0,productsCount:0,queriesCount:0}),W=(0,i.useState)(!1),F=W[0],K=W[1],X=(0,i.useRef)(),Y=(0,i.useRef)(),J=(0,i.useRef)(null),$=(0,i.useRef)((0,y.D)(100,r)),ee=(0,p.useRouter)(),et=(0,z.E)(),en=(0,T.s)(),eu=(0,v.oR)(I.M).pageState,er=(0,i.useCallback)(function(){$.current=(0,y.D)(100,r)},[r]),es=function(){X.current=setTimeout(function(){eg()},200)},eo=function(e){U.current=e.target.value,c(e.target.value),e.target.value||(Q.current=null)},ei=function(e){R.includes(e.keyCode)&&ea(e)},ea=function(e){if(Z.length)switch(e.keyCode){case m.s.Escape:eg();break;case m.s.Enter:var t=Z[O];t&&(e.preventDefault(),ed({event:e,suggestSelectedItem:t,inputValue:a}),eg());break;case m.s.UpArrow:e.preventDefault(),ec(-1);break;case m.s.DownArrow:e.preventDefault(),ec(1)}},ec=function(e){var t=el(e),n=Z[t].value;_(t),n&&c(n),Q.current=n},el=function(e){var t=O+e;return t>Z.length-1?t=0:t<0&&(t=Z.length-1),t},ed=(0,i.useCallback)(function(e){var t=e.event,n=e.suggestSelectedItem,r=e.inputValue,s="";if(u&&(u.cancel(),u=void 0),n&&"product"===n.type)s="/vyrobek/"+n.normalizedName+"/",n.normalizedNameExt&&(s+="?varianta="+n.normalizedNameExt);else{var o=r.trim();o&&(s=(0,b.DN)("/hledej/",{q:o||void 0}))}if(s){var i,a=(0,w.o)({event:t,selectedSuggestItem:n,inputValue:r,lastUserInputValue:U.current,suggestStats:G.current,countOfSuggests:Z.length,suggestQueryValue:Q.current,submitClicked:F});(0,L.j)("no-suggest"===a.suggestType?H.B.USER:H.B.SUGGEST),(0,S.Fh)(function(){a&&(0,E.qP)("search",a),a=null}),(0,w.M)(a),et.push({url:s,shallow:null==ee?void 0:ee.route.includes("hledej")}),(0,N.CS)()&&(null===(i=J.current)||void 0===i||i.blur())}K(!1)},[et,ee,Z.length,F]),eg=(0,i.useCallback)(function(){$.current.cancel(),er(),Q.current="",G.current={categoriesCount:0,productsCount:0,queriesCount:0},M([]),g(!1),_(-1),P(!1),n(!1)},[n,er]),ef=(0,i.useCallback)(function(){var e;c(""),null===(e=J.current)||void 0===e||e.focus()},[J]),eh=function(e){e.preventDefault(),ed({event:e,inputValue:a}),eg()},ev=(0,i.useCallback)(function(){K(!0)},[]),ep=function(e,t){return j.i.get({phrase:e},t)},em=(0,i.useCallback)(function(e,t){e.persist(),c(t.value),Q.current=t.value,ed({event:e,suggestSelectedItem:t,inputValue:t.value}),eg()},[ed,eg]),ey=(0,i.useCallback)(function(e,t){var n=!0===t?e:-1;n!==O&&_(n)},[O]);return(0,i.useEffect)(function(){c(t||"")},[t]),(0,i.useEffect)(function(){U.current!==A.current&&(U.current.length>=3?$.current(U.current):eg()),A.current=U.current},[a]),(0,i.useEffect)(function(){null==n||n(d)},[n,d]),(0,i.useEffect)(function(){return eu.loaded&&(c(t||""),Y.current!==en&&J.current&&(0,k.u)(J.current,!0),Y.current=en),function(){!(0,N.CS)()&&X.current&&clearTimeout(X.current)}},[en,t,eu.loaded]),(0,i.useEffect)(function(){return(0,S.kf)(function(){u&&(u.cancel(),u=void 0)})},[]),(0,o.jsxs)("form",{id:"search-form",action:"/hledej/",onSubmit:eh,children:[(0,o.jsxs)("div",{className:"wrapper",children:[(0,o.jsx)("input",{type:"text",id:"q",name:"q",value:a,onChange:eo,onKeyDown:ei,onBlur:es,ref:J,placeholder:"Zbož\xed je bož\xed",role:"search",autoComplete:"off","aria-label":"Vyhledat","data-dot":"lista_hledani_kurzor"}),J.current&&(0,o.jsx)(k.L,{element:J.current}),a&&(0,o.jsx)("button",{className:"Link removeButton",type:"button",onClick:ef,"data-dot":"lista_hledani_krizek",children:(0,o.jsx)(x.Z,{type:"close-searchBar",className:"removeIcon"})}),(0,o.jsx)("button",{className:"search",type:"submit",title:"Vyhledat","data-dot":"lista_hledani_naseptavac",onMouseDown:ev,children:(0,o.jsx)(x.Z,{type:"magnifier"})})]}),d&&(0,o.jsx)(C.U,{items:Z,loading:V,highlightIndex:O,onItemClick:em,onItemHighlightChange:ey,suggestShow:d})]})},M=i.memo(Z),D=n(1407),O=n(83433),_=n(52977),B=function(e){var t=e.children,n=e.container;return _.createPortal(t,n)},V=n(71081),P=n(25563),U=n(17100),A=n(40437),Q=n(29643),G=d()(function(){return n.e(6976).then(n.bind(n,16976))},{loadableGenerated:{webpack:function(){return[16976]}}}),W=function(){return(0,N.Y8)().type===N.me.DESKTOP?56:0},F=i.memo(function(){return(0,o.jsx)("div",{className:"LayoutHeader-col LayoutHeader-col--logo",children:(0,o.jsx)(U.H,{to:"/",className:"LayoutHeader-logo","aria-label":"Zbož\xed.cz hlavn\xed strana",shallow:!1,children:(0,o.jsx)("img",{src:"/img/logo.svg",width:"100%",height:"100%",alt:"Zbož\xed.cz"})})})}),K=i.memo(function(){var e=(0,i.useRef)(null);return(0,i.useEffect)(function(){var t=D.p.getBadgeNode();(null==e?void 0:e.current)&&(t?(null==e?void 0:e.current)&&e.current.insertBefore(t,e.current.childNodes[0]):(0,S.qG)(function(n){t=n.detail,(null==e?void 0:e.current)&&t&&e.current.insertBefore(t,e.current.childNodes[0])}))},[e.current]),(0,o.jsx)("div",{ref:e,className:"HeaderLinks",children:(0,o.jsx)("a",{className:"HeaderLinks-seznam",href:"//seznam.cz",children:"Seznam.cz"})})}),X=i.memo(function(e){var t,n=e.query,u=void 0===n?"":n,a=e.lightVersion,l=void 0!==a&&a,d=e.ribbonNotFixed,f=void 0!==d&&d,v=e.ribbonWidgetProps,p=void 0===v?null:v,m=e.ribbonWidgetState,y=e.hideSearchIfNoQuery,b=(0,i.useState)(p),x=b[0],C=b[1],k=(0,i.useState)(null),j=k[0],w=k[1],E=(0,i.useState)(m||"loading"),L=E[0],H=E[1],T=(0,i.useState)(null),I=T[0],q=T[1],R=(0,z.E)(),Z=(0,i.useState)(null),_=Z[0],U=Z[1],W=(0,Q.un)().isNewMobileDesign,X="LayoutHeader",Y=(0,i.useRef)(null),J=c()("LayoutHeader-wrap",{"LayoutHeader-wrap--fullHeader":!l}),$=(0,i.useCallback)(function(e){var t=document.getElementById(e);t&&w(t)},[]),ee=(0,i.useCallback)(function(){var e=(0,s.Z)(document.getElementsByClassName("ribbon-badge"),1)[0];e&&e.setAttribute("data-hj-suppress","")},[]),et=(0,i.useCallback)(function(e){U(e),$("ribbon__center"),q(document.querySelector(".".concat(X))),ee()},[$,ee]),en=(0,i.useCallback)(function(e){var t;null==I||null===(t=I.classList)||void 0===t||t[e?"add":"remove"]("LayoutHeader--suggestVisible")},[I]),eu=(0,i.useCallback)(function(e){for(var t,n=e.target;n&&!((null==n?void 0:n.tagName)==="A"||(null===(t=n.getAttribute("class"))||void 0===t?void 0:t.includes(X)));)n=null==n?void 0:n.parentNode;if((null==n?void 0:n.tagName)==="A"){var u=n.getAttribute("href");u&&!(0,V.B)(u)&&(e.preventDefault(),R.push({url:u,shallow:!1}))}},[R]),er=(0,i.useCallback)(function(){C(null),$("LayoutHeader-col--search"),H("failed")},[$]),es=(0,i.useCallback)(function(){_&&(f||(0,N.Y8)().type!==N.me.DESKTOP?_.unfixed():_.fixed())},[_,f]);return(0,P.O)(es),(0,i.useEffect)(function(){es()},[_,f,es]),(0,i.useEffect)(function(){null==I||null===(e=I.classList)||void 0===e||e[W?"add":"remove"]("LayoutHeader--redesigned");var e,t=null==I?void 0:I.querySelector(".ribbon__start");if(t)return t.addEventListener("click",eu),function(){t.removeEventListener("click",eu)}},[I,W]),(0,i.useEffect)(function(){W?document.body.dataset.redesign="1":delete document.body.dataset.redesign},[W]),(0,i.useEffect)(function(){if("failed"===L){var e=(0,A.z)()===A.q.PRODUCTION?"":"test.dszn.";$("LayoutHeader-col--search"),(0,O.Xs)("https://login.szn.".concat(e,"cz/js/api/login.js"),"login"),D.p.initLogin()}},[$,L]),(0,i.useEffect)(function(){if(!l&&!x&&!p&&"loading"===L){var e=(0,A.z)()===A.q.PRODUCTION?"seznam":"test.dszn";h().request({url:"https://ribbon.".concat(e,".cz/widget"),method:"GET",params:{serviceID:"zbozi"},withCredentials:!1,timeout:3e3}).then(function(e){e.data.containerSelector=".".concat(X),C(e.data),H("successed")},function(){H("failed")})}},[$,l,L,p,x]),(0,i.useEffect)(function(){return(0,S.oH)(function(e){R.push({url:e.detail,shallow:!1})})},[R]),(0,i.useMemo)(function(){x&&(x.props.service.loginCfg.onLinkClick=S.nJ)},[x]),(0,i.useEffect)(function(){var e;return x&&!_&&(e=setTimeout(function(){_||er()},1e3)),function(){e&&clearTimeout(e)}},[er,_,x]),(0,i.useEffect)(function(){W&&!document.body.classList.contains("withRedesignedHeader")&&(document.body.classList.add("withRedesignedHeader"),y&&!u&&document.body.classList.add("noSearchBar"),u&&document.body.classList.remove("noSearchBar"))},[W]),(0,o.jsxs)(o.Fragment,{children:[j&&(0,o.jsx)(B,{container:j,children:(0,o.jsx)(W?G:M,{query:u,onSuggestVisibilityChange:en,hideSearchIfNoQuery:y})}),(null==x?void 0:x.props)&&!l?(0,o.jsx)(g.R,{widgetProperties:x,widgetClassName:X,onWidgetMounted:et,onError:er}):(0,o.jsxs)("header",{className:c()(X,(t={},(0,r.Z)(t,"".concat(X,"--fixed"),!f&&!l),(0,r.Z)(t,"".concat(X,"--redesigned"),W),t)),role:"banner","aria-labelledby":"blind-header",children:[(0,o.jsx)("h5",{id:"blind-header",className:"blind",children:"Hlavička str\xe1nky"}),(0,o.jsx)("div",{className:J,ref:Y,children:(0,o.jsxs)("div",{className:"LayoutHeader-items",children:[(0,o.jsx)(F,{}),!l&&(0,o.jsx)("div",{className:"LayoutHeader-col LayoutHeader-col--search",id:"LayoutHeader-col--search"}),(0,o.jsxs)("div",{className:"LayoutHeader-col LayoutHeader--links",children:[(0,o.jsx)(F,{}),!l&&(0,o.jsx)(K,{})]})]})})]})]})})},13096:function(e,t,n){n.d(t,{L:function(){return i},u:function(){return o}});var u=n(37869),r=n(58699),s=n(76767),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(0,r.CS)()&&!(0,s.tM)().scrollTop){if(window.location.hash&&window.location.hash.split("&").some(function(e){return e&&e.includes("utm_")}))return;return setTimeout(function(){var n,u=window.scrollX,r=window.scrollY;e.focus({preventScroll:t}),null===(n=window.scrollTo)||void 0===n||n.call(window,u,r)})}},i=function(e){var t=e.element;return(0,u.useEffect)(function(){var e=void 0;return t&&(e=o(t)),function(){e&&clearTimeout(e)}},[t]),null}},56288:function(e,t,n){n.d(t,{U:function(){return h}});var u=n(81346),r=n(37869),s=n(71673),o=n.n(s),i=n(19369),a=n(7981),c=n(36305),l=function(e){var t=e.text;return e.bold?(0,u.jsx)("b",{children:t}):(0,u.jsx)(u.Fragment,{children:t})},d=function(e,t,n){var r=(0,c.Z)(t).sort(function(e,t){return e.begin-t.begin}),s=[],o=0;r.forEach(function(t){if(t.begin!==o){var r=e.substring(o,t.begin);s.push((0,u.jsx)(l,{text:r,bold:n},"".concat(o,"-").concat(t.begin)))}var i=e.substring(t.begin,t.end);s.push((0,u.jsx)(l,{text:i,bold:!n},"".concat(t.begin,"-").concat(t.end))),o=t.end});var i=r[r.length-1],a=i&&i.end?i.end:0;if(a<=e.length-1){var d=e.substring(a);s.push((0,u.jsx)(l,{text:d,bold:n},"".concat(a)))}return s},g={query:function(e){var t=e.data,n=e.highlighted,r=e.onClick,s=e.onMouseMove,i=e.onMouseOut,c=o()("item","query",{selected:n}),l=t.highlight&&t.highlight.length?d(t.value,t.highlight,!0):t.value;return(0,u.jsxs)("div",{className:c,onClick:function(e){return r(e,t)},onMouseMove:s,onMouseOut:i,children:[(0,u.jsx)(a.Z,{type:"magnifier_v2"}),(0,u.jsx)("span",{children:l})]})},product:function(e){var t=e.data,n=e.highlighted,r=e.onClick,s=e.onMouseMove,a=e.onMouseOut,c=o()("item","product",{selected:n});return(0,u.jsxs)("div",{className:c,onClick:function(e){return r(e,t)},onMouseMove:s,onMouseOut:a,children:[(0,u.jsx)("span",{className:"image",children:(0,u.jsx)(i.Z,{src:t.image,alt:"",cdnWidth:38,cdnHeight:38})}),(0,u.jsx)("b",{className:"text",children:t.value})]})}},f=function(e){var t=e.items,n=e.highlightIndex,r=e.loading,s=e.suggestShow,i=e.onItemClick,a=e.onItemHighlightChange,c=e.blurFocus,l=o()("suggestResults",{loading:void 0!==r&&r});return(0,u.jsx)("div",{id:"suggest-results",className:l,onMouseDown:c,onTouchStart:c,children:s&&(void 0===t?[]:t).map(function(e,t){var r=[];if(e.firstOfType&&r.push((0,u.jsx)("h6",{children:"product"===e.type&&(0,u.jsx)("span",{children:"Obl\xedben\xe9 produkty"})},"firstOfType-".concat(e.index))),e.type in g){var s=g[e.type];r.push((0,u.jsx)(s,{data:e,highlighted:n===t,onClick:i,onMouseMove:function(){return a(t,!0)},onMouseOut:function(){return a(t,!1)}},"itemComponent-".concat(e.index)))}return(0,u.jsx)("div",{className:"item-wrap","data-dot":"lista_hledani_naseptavac",children:r},t)})})},h=r.memo(f)},29527:function(e,t,n){n.d(t,{M:function(){return o},o:function(){return i}}),n(37869);var u=n(42697),r=n(76767),s=n(93986),o=function(e){(0,r.uD)({suggestType:e.suggestType}),u.yD.sendWAEvent("search",e)},i=function(e){var t,n=e.event,u=e.selectedSuggestItem,r=e.inputValue,o=e.lastUserInputValue,i=e.suggestStats,a=e.countOfSuggests,c=e.suggestQueryValue,l=e.submitClicked,d={query:r,userInput:o,suggestInput:null,invoke:null,suggestType:"no-suggest",suggestOptions:null,suggestQueries:null,suggestProducts:null,suggestCategories:null,suggestSelectedQuery:null,suggestSelectedProduct:null,suggestSelectedCategory:null};return d.invoke="click",n&&"submit"===n.type&&!l&&(d.invoke="keyboard"),(i.categoriesCount||i.productsCount||i.queriesCount)&&(d.suggestType="nothing",d.suggestOptions=a,d.suggestQueries=i.queriesCount,d.suggestProducts=i.productsCount,d.suggestCategories=i.categoriesCount),c&&c!==r&&(d.suggestType="modified"),u&&(d.query=u.value,d.invoke="suggest-click",d.suggestInput=u.value,d.suggestType=u.type,n&&(null==n?void 0:n.keyCode)===s.s.Enter&&(d.invoke="suggest-keyboard"),"query"===d.suggestType?d.suggestSelectedQuery=u.typeIndex:"product"===d.suggestType?d.suggestSelectedProduct=u.typeIndex:"category"===d.suggestType&&(d.suggestSelectedCategory=u.typeIndex)),d}},71081:function(e,t,n){n.d(t,{B:function(){return a},x:function(){return c}});var u=n(26042),r=n(69396),s=n(99534),o=n(81346),i=n(17100),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/.test(e)},c=function(e){var t=e.href,n=void 0===t?"":t,c=(0,s.Z)(e,["href"]);return(0,o.jsx)(o.Fragment,{children:a(n)?(0,o.jsx)("a",(0,r.Z)((0,u.Z)({},c),{href:n,children:e.children})):(0,o.jsx)(i.H,(0,r.Z)((0,u.Z)({},c),{to:n,children:e.children}))})}},29595:function(e,t,n){n.d(t,{i:function(){return c}});var u=n(26042),r=n(69396),s=n(18279),o=n.n(s),i=n(41070),a=n(52229),c={get:function(e,t){return o().get(i.XL.SUGGEST_URL,{params:(0,r.Z)((0,u.Z)({},e),{backCompatibility:!1}),cancelToken:t.token,ignoreLoadingBar:!0}).then(l,function(e){return o().isCancel(e)?Promise.reject(e):(0,a.d1)(e)})}},l=function(e){var t=e.data;e.config;var n={results:[],queriesCount:0,productsCount:0,categoriesCount:0,anyResult:!1},u=0,r=!0;return t.SuggestOffer&&(t.SuggestOffer.slice(0,10).forEach(function(e,t){n.results.push({value:e.sentence,type:"query",highlight:e.highlight,index:u,typeIndex:t}),u++,n.queriesCount++,n.anyResult=!0,r=!1}),r=!0),t.suggestProductItems&&(t.suggestProductItems.slice(0,5).forEach(function(e,t){n.results.push({type:"product",firstOfType:r,value:e.sentence,normalizedName:e.normalizedName,normalizedNameExt:e.normalizedNameExt,image:e.imageUrl||i.no,index:u,typeIndex:t}),u++,n.productsCount++,n.anyResult=!0,r=!1}),r=!0),n}}}]);
//# sourceMappingURL=3483-67c1011747a1a13f.js.map